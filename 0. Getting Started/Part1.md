## Part one, Terraform

Terraform is an open-source infrastructure as code software tool that enables you to safely and predictably create, change, and improve infrastructure.
We used Terraform to create the Vnets and the virtual machines in Azure. :hammer_and_wrench:

To start, open Visual Studio Code.
<br/>

### Step1: Opening the terminal
Press ```CTRL+ Ã‡``` or go to ```Terminal``` **>** ```New Terminal```. Type the following command to login to your Azure account:
```
az login
```
This will open a new browser window asking you to sign in to your Azure account.

<br/>

### Step 2: Logging in with your Azure subscription
Set your Azure Subscription: After logging in, you can set your Azure subscription using the following command:
```
az account set --subscription="SUBSCRIPTION_ID"
```
Replace SUBSCRIPTION_ID with the subscription.<p/> It should be someting like this: ```00000000-0000-0000-0000-000000000000```

> [!TIP]
>**Tip:** Go to portal.azure.com and on the search bar type: *subscriptions*. The ID is right there.

<br/>

### Step 3: Adding the repository to the Workspace
Press ```CTRL + Shift + E``` to open the explorer bar. </p>
Right click and select the option ```Add folder to workspace```
Navigate to where you stored this repo and add it to the explorer menu.
All of the files are accessable via this explorer. Including the files that we need to use next, the Terraform files.

<br/>

### Step 4: Navigating to the Terraform folder
On the previously opened terminal navigate to where you stored this repository and type: Is should look something like this:
```
C:\Users\YOUR_USERNAME\Documents\Projecto-Ansible_LSF>
```
Navigate to ```1. Terraform Files``` using this command:
```
cd ".\Terraform Files\"
```
<br/>

### Step 5: Starting Terraform
Now we are ready to start Terraform, by typing this command:
``` 
terraform init
```
Terraform should initialize.

<br/>

### Step 6: Terraform plan out
This command is a convenient way to check whether the execution plan for a set of changes matches your expectations without making any changes to real resources or state. Type:
```
terraform plan -out main.tfplan
```
At this point in the process, Terraform will prompt you to enter values for the **passwords** of both the Windows Server Production and the Windows Server Disaster. 
Type them in and press enter. 

> [!IMPORTANT]
 >Please memorize them or store them in a safe place. They'll be necessary to login on the machines.

<br/>

### Step 7: Apply the plan
This command is used to apply the changes required to reach the desired state of the configuration, or the pre-determined set of actions generated by a terraform plan execution plan. Type:

```
terraform apply main.tfplan
```
Terraform will now build the Vnets, virtual machines and the NSG's in Microsoft Azure. After everything is concluded, go to the Azure portal and **take note of the machine's public IP's**.

<br/>

[Lets move to part two!](Part2.md)  :arrow_forward: